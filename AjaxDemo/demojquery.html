<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <title>Demo</title>
    <style>
    * {
        font-size: 30px;
        line-height: 1.8;
    }
    </style>
</head>

<body>
    <h1>员工查询</h1>
    <label for="">请输入员工编号：</label>
    <input type="text" id="keyword" />
    <button id="search">查询</button>
    <p id="searchResult"></p>
    <h1>员工创建</h1>
    <label for="">请输入员工姓名：</label>
    <input type="text" id="staffName" />
    <br />
    <label for="">请输入员工编号：</label>
    <input type="text" id="staffNumber" />
    <br />
    <label for="">请输入员工性别：</label>
    <select name="" id="staffSex">
        <option value="男">男</option>
        <option value="女">女</option>
        <option value="未知">未知</option>
    </select>
    <br />
    <label for="">请输入员工职位：</label>
    <input type="text" id="staffJob" />
    <br />
    <button id="save">保存</button>
    <p id="saveResult"></p>
    <script src="http://apps.bdimg.com/libs/jquery/1.11.1/jquery.min.js"></script>
    <script>
    $(document).ready(function() {
        $("#search").click(function() {
            $.ajax({
                type: "GET",
                url: "service.php?number=" + $("#keyword").val(),
                dataType: "json",
                success: function(data) {
                    if (data.success) {
                        $("#searchResult").html(data.msg);
                    } else {
                        $("#searchResult").html("出现错误" + data.msg);
                    }
                },
                error: function(jqXHR) {
                    alert("发生错误" + jqXHR.status);
                }

            });
        });

        $("#save").click(function() {
            $.ajax({
                type: "POST",
                url: "service.php?",
                dataType: "json",
                data: {
                    name: $("#staffName").val(),
                    sex: $("#staffSex").val(),
                    number: $("#staffNumber").val(),
                    job: $("#staffJob").val(),
                },
                success: function(data) {
                    if (data.success) {
                        $("#saveResult").html(data.msg);
                    } else {
                        $("#saveResult").html("出现错误" + data.msg);
                    }
                },
                error: function(jqXHR) {
                    alert("发生错误" + jqXHR.status);
                },

            });
        });
    });
    </script>
</body>

</html>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <title>Untitled Document</title>
</head>

<body>
</body>

</html>
